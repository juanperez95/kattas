<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleag.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../static/css/dashboard.css" th:href="@{/css/dashboard.css}" />
  <link rel="stylesheet" href="../static/css/modal.css" th:href="@{/css/modal.css}" />
  <link href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Alkatra:wght@600&display=swap" rel="stylesheet" />
  <title>Inventario Katta´s pizza</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous" />
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <script src="https://kit.fontawesome.com/b06d3acf28.js" crossorigin="anonymous"></script>
</head>

<body>
  <div class="sidebar">
    <div class="logo">
      <img src="../static/images/Logo icono.png" th:src="@{/images/Logo icono.png}" />
    </div>
    <ul class="menu">
      <li class="active">
        <a th:href="@{/sesion/dashboard-insumos}">
          <i class="fa-solid fa-store"></i>
          <span>Inventario</span>
        </a>
      </li>
      <li>
        <a href="#">
          <i class="fa-solid fa-cart-shopping"></i>
          <span>Ventas</span>
        </a>
      </li>
      <li>
        <a href="#">
          <i class="fa-solid fa-truck-fast"></i>
          <span>Domicilios</span>
        </a>
      </li>
      <li>
        <a href="#">
          <i class="fa-solid fa-gears"></i>
          <span>Configuración</span>
        </a>
      </li>
      <li class="logout">
        <a href="#">
          <i class="fa-solid fa-right-from-bracket"></i>
          <span>Cerrar sesión</span>
        </a>
      </li>
    </ul>
  </div>
  <div class="main--content">
    <div class="header--wrapper">
      <div class="header--title">
        <h1>Katta' pizza</h1>
      </div>
      <div class="user--info">
        <div class="search--box">
          <form th:action="@{/sesion/dashboard-insumos}" method="get">
            <input type="text" name="palabra" placeholder="Buscar articulo" />
            <button type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
          </form>
        </div>

      </div>
    </div>

    <!--Filtro-->

    <div class="tabular--wrapper">
      <h2 class="main--title">Inventario</h2>
      <br />




      <button id="openModalButton3" style="font-size: 18px;  ">
        <i class="fa-solid fa-plus" style="font-size: 18px; margin: 0; padding-top: 3px; padding-right: 8px;"></i>
        <b>Agregar Insumo</b>
      </button>
      <div id="myModal3" class="modal">
        <div class="modal-content">
          <h2>Agregar Insumo</h2>


          <form id="miFormulario" class="modal_paragraph" th:action="@{/sesion/add-insumo}"
            th:object="${adicionarInsumo}" method="POST">

            <div class="formLabels">
              <label for="nombre">Nombre</label>
              <input th:field="*{nombre}" type="text" name="nombre" id="nombre">
            </div>

            <div class="formLabels">
              <label for="categoria">Categoria</label>
              <select th:field="*{categoria}" name="categoria" id="categoria">
                <option value="carnes">Carnes</option>
                <option value="salsas">Salsas</option>
                <option value="bebidas">Bebidas</option>
              </select>
            </div>

            <div class="formLabels">
              <label for="estado">Estado</label>
              <select th:field="*{estado}" name="estado" id="estado">
                <option value="disponible">Disponible</option>
                <option value="agotado">Agotado</option>
              </select>
            </div>

            <div class="formLabels">
              <label for="fEntrada">Fecha de Entrada</label>
              <input th:field="*{fecha_entrada}" type="date" name="fEntrada" id="fEntrada">
            </div>
            <div class="formLabels">
              <label for="fCaducidad">Fecha de Caducidad</label>
              <input th:field="*{fecha_vence}" type="date" name="fCaducidad" id="fCaducidad">
            </div>


            <div class="grupoBotones">

              <label for="cantidad">Cantidad</label>


              <input th:field="*{cantidad}" type="number" name="contador" id="contador" min="0">

            </div>
            <button class="modal_confirmacion" type="submit" value="Enviar" onclick="editar()">Guardar</button>
          </form>
          <button class="modal_close">Cerrar</button>
          <span id="closeModalButton3" class="close-button"><i class="fa-solid fa-xmark"></i></span>
        </div>
      </div>


    </div>
    <br />



    <br />
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th class="fecha1">ID Insumo</th>
            <th>Nombre</th>
            <th>Categoria</th>
            <th>Estado</th>
            <th>Cantidad</th>
            <th>Fecha Entrada</th>
            <th>Fecha Caducidad</th>
            <th class="editar2">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="insumo : ${insumos}">
            <td th:text="${insumo.id}"></td>
            <td th:text="${insumo.nombre}"></td>
            <td th:text="${insumo.categoria}"></td>
            <td th:text="${insumo.estado}"></td>
            <td th:text="${insumo.cantidad}"></td>
            <td th:text="${insumo.fecha_entrada}"></td>
            <td th:text="${insumo.fecha_vence}"></td>
            <td><!-- ------------------------------------------------------------------- -->
              <button id="openModalButton">
                <i class="fa-solid fa-pen-to-square" style="font-size: 18px"></i>
              </button>
              <div id="myModal" class="modal">
                <div class="modal-content">
                  <h2>Piña</h2>
                  <h2>Editar insumo</h2>

                  <form id="miFormulario" class="modal_paragraph" th:action="@{/sesion/update-insumo}"
                    th:object="${update_insumo}" method="POST">

                    <div class="formLabels">
                      <label for="id">ID Insumo</label>
                      <input th:field="*{nombre}" th:value="${insumo.nombre}" type="number" name="id" id="id" readonly>
                    </div>

                    <div class="formLabels">
                      <label for="nombre">Nombre</label>
                      <input th:field="*{nombre}" th:value="${insumo.nombre}" type="text" name="nombre" id="nombre">
                    </div>

                    <div class="formLabels">
                      <label for="categoria">Categoria</label>
                      <select th:field="*{categoria}" th:value="${insumo.categoria}" name="categoria" id="categoria">
                        <option value="carnes">Carnes</option>
                        <option value="salsas">Salsas</option>
                        <option value="bebidas">Bebidas</option>
                      </select>
                    </div>

                    <div class="formLabels">
                      <label for="estado">Estado</label>
                      <select th:field="*{estado}" th:value="${insumo.estado}" name="estado" id="estado">
                        <option value="disponible">Disponible</option>
                        <option value="agotado">Agotado</option>
                      </select>
                    </div>

                    <div class="formLabels">
                      <label for="fEntrada">Fecha de Entrada</label>
                      <input th:field="*{fecha_entrada}" th:value="${insumo.fecha_entrada}" type="date" name="fEntrada"
                        id="fEntrada">
                    </div>
                    <div class="formLabels">
                      <label for="fCaducidad">Fecha de Caducidad</label>
                      <input th:field="*{fecha_vence}" type="date" th:value="${insumo.fecha_vence}" name=fCaducidad
                        id="fCaducidad">
                    </div>


                    <div class="grupoBotones">



                      <label for="fCaducidad">Cantidad</label>
                      <input th:field="*{cantidad}" type="number" th:value="${insumo.cantidad}" name="cantidad"
                        id="cantidad">

                    </div>
                    <button class="modal_confirmacion" type="submit" value="Enviar" onclick="editar()">Guardar</button>
                  </form>
                  <button class="modal_close">Cerrar</button>
                  <span id="closeModalButton" class="close-button"><i class="fa-solid fa-xmark"></i></span>
                </div>
              </div>

              <!-- ------------------------------------------------------------------- -->

              <a th:href="@{/sesion/eliminar-insumo/{id}(id=${insumo.id})}">
                <i class="fa-solid fa-trash" style="font-size: 18px"></i></a>

            </td>
          </tr>


        </tbody>
      </table>
      <script src="../static/js/modal.js" th:src="@{/js/modal.js}"></script>
      <script src="../static/js/dashboard.js" th:src="@{/js/dashboard.js}"></script>
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    </div>
  </div>
</body>

</html>